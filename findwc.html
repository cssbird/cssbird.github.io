<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" id="viewport" name="viewport">
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black" name="apple-mobile-web-app-status-bar-style"/>
<meta content="telephone=no" name="format-detection"/>
<meta content="email=no" name="format-detection"/>
<title>findwc</title>
<style>
    * {
        margin:0;
        padding:0;
    }
    #gamebox{
        position: fixed;
        top:5%;
        left:5%;
        bottom:5%;
        right:5%;
        border:solid #ccc 1px;
    }
    #banner{
       width:100%;
       height:30%;
    }
    #box{
       width:100%;
       height:70%;
       background:#444;
    }
    #player{
        width:20px;
        height:20px;
        background:#ccff66;
        position: relative;
    }
</style>
<script>

window.onload = function () {
    var gameloop=false;
    var playerX=10;
    var playerY=10;
    
    var player=document.createElement("div");
    var box=document.getElementById("box");
    player.id="player";
    box.appendChild(player);
    var up=false,down=false;left=false;right=false;
    
    window.addEventListener('touchstart', function (e) {
        var touchobj = e.changedTouches[0] // reference first touch point (ie: first finger)
        startx = parseInt(touchobj.clientX) // get x position of touch point relative to left edge of browser
        starty = parseInt(touchobj.clientY) // get x position of touch point relative to left edge of browser
        //statusdiv.innerHTML = 'Status: touchstart<br /> ClientX: ' + startx + 'px'
        e.preventDefault()
    }, false);

    window.addEventListener('touchmove', function (e) {
        var touchobj = e.changedTouches[0] // reference first touch point for this event
        var distX = parseInt(touchobj.clientX) - startx;
        var distY = parseInt(touchobj.clientY) - starty;
        
        if (distX > document.body.scrollWidth/3) {
           up=down=left=right=false;
            right=true;
        }
        if (distX < -document.body.scrollWidth/3) {
           up=down=left=right=false;
            left=true;
        }
        if (distY > document.body.scrollWidth/3) {
           up=down=left=right=false;
            down=true;
        }
        if (distY < -document.body.scrollWidth/3) {
           up=down=left=right=false;
            up=true;
        }
        //gameCtrl.player.x+=distX;
        //gameCtrl.player.y+=distY;
        //statusdiv.innerHTML = 'Status: touchmove<br /> Horizontal distance traveled: ' + dist + 'px'
        e.preventDefault()
    }, false);

    window.addEventListener('touchend', function (e) {
        var touchobj = e.changedTouches[0] // reference first touch point for this event
        //statusdiv.innerHTML = 'Status: touchend<br /> Resting x coordinate: ' + touchobj.clientX + 'px'
        e.preventDefault()
    }, false);

   

    gameloop=true;
    window.setInterval(function () {
      if(gameloop){
         if(up){
            playerX-=3;
         }if(down){
            playerX+=3;
         }
         if(left){
            playerY-=3;
         }if(right){
            playerY+=3;
         }
         
         var box=document.getElementById("box");
         
         if(playerX<=0){
            up=down=left=right=false;
            playerY=box.scrollHeight-20-2;
            //down=true;
         }
         
         
         if(playerX+20>=box.scrollHeight){
            up=down=left=right=false;
            playerX=2;
            //up=true;
         }
         
         if(playerY<=0){
            up=down=left=right=false;
            playerY=2;
            //right=true;
            
         }
         if(playerY+20>=box.scrollWidth){
            playerY=box.scrollWidth-20-2;
            up=down=left=right=false;
            //left=true;
         }
         player.style.top=playerX+"px";
         player.style.left=playerY+"px";
      }
    }, 1000 /64);


}
</script>
</head>
<body>
  <div id="gamebox">
  <div id="banner">
      <h2></h2>
         <div id="v">0</div>
      </div>
    <div id="box"></div>
  </div>
</body>
</html>
